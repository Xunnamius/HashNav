(function(){HashNav.implement({serialize:function(c,g){var b={options:[],state:[]},c=c||this.options.externalConstants[1],e=4,d=function(a,c,h){h||(a=encodeURIComponent(JSON.encode(a)));if(a.length>this.options.cookieDataHardLimits[0]){e++;if(e<=this.options.cookieDataHardLimits[1])return b[c].push(a.substring(0,this.options.cookieDataHardLimits[0])),a=a.substr(this.options.cookieDataHardLimits[0]),d(a,c,!0);return!1}b[c].push(a);return!0}.bind(this);this.deserialize(c);d(this.options,"options");
d(state,"state");if(this.$_hidden_history_loaded)b.history=[],d(history,"history");if(e>this.options.cookieDataHardLimits[1])return!1;if(g)return b;else{var f={v:version,s:{options:b.options.length,state:b.state.length}};if(this.$_hidden_history_loaded)f.history=b.history.length;Cookie.write(c+"version",encodeURIComponent(JSON.encode(f)),this.options.cookieOptions);Object.each(b,function(a,b){a.length>1?a.each(function(a,d){Cookie.write(c+b+d,a,this.options.cookieOptions)},this):Cookie.write(c+b,
a[0],this.options.cookieOptions)},this);return!0}}})})();