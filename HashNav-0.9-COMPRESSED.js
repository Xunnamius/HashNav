/*
---
description: An AJAX-esque hash navigation class made in JavaScript using MooTools 1.3

license:
- MIT-style license

authors:
- Tre (Xunnamius) Giles (http://darkgray.org/)

requires:
core/1.3:
- Class.Extras
- Element.Event
- Fx
- Cookie
- JSON
more/1.3.0.1:
- String.QueryString
- Fx.Scroll

provides:
- HashNav
...
*/

/* documentation and updates @ http://github.com/Xunnamius/HashNav */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(7(){t n=H,y=[],D={},S=0.9,15={1N:7(e,f){e=e.2y();t g=e.1H(/[&;]/),M={};4(!g.z||!e.z)5 M;g.N(7(c){t d=c.2D(\'=\'),I=d<0?q:c.O(d+1),13=c.O(0,d),1f=d<0?[c]:13.2k(/([^\\]\\[]+|(\\B)(?=\\]))/g),19=M;4(f&&I.z===0)I=o;4(w(I)!=\'1X\')I=1Y(I);1f.N(7(a,i){a=1Y(a);t b=19[a];4(i<1f.z-1)19=19[a]=b||{};r 4(w(b)==\'M\')b.1r(I);r 19[a]=b!=H?[b,I]:I})});5 M},1j:7(d){t e=\'\';s.N(d,7(a,b){4(a===q){4(e)e=e+\'&\'+b;r e+=b;P d[b]}r 4(a===o){t c=b+\'=\';4(e)e=e+\'&\'+c;r e+=c;P d[b]}});d=s.2z(d);5 e+(d&&e?\'&\'+d:d)}};3.R=14 2O({2V:[29,2b],6:{21:2x,Q:\'!/\',1q:\'2B\',1c:q,20:q,1F:o,1Z:o,x:[\'23\',\'28\'],L:{2a:o,u:\'/\',2e:2g,2h:o},2i:o},p:{17:o,1D:o,16:\'\',v:[\'\',{A:\'\',18:\'\',K:H}]},2N:7(f){4(n)5 n;r{3.1W(f);4(3.6.1c){3.y={F:7(a){4(a==\'10\')5 y;a=2Y(a),1m=y.z+a;4(a>=0)5 y[a];r 4(1m<y.z&&1m>=0)5 y[1m];5 o},24:7(){y=[]}}}4(3.6.20){25.26({27:7(a,b,c,d){t e=14 R(),T=3.1o(\'1V\')||3.1o(\'32\')||3.1o(\'T\')||3.F(\'2c\');4(d===q)d=3;3.2d(e.6.x[0],T);e.1U(T,a,b,c,3,d);e=H;5 3},2f:7(){t a=14 R(),1T=a.1S(3.1R(a.6.x[0]));a=H;5 1T},2j:7(){t a=14 R(),13=a.6.x[0],T=3.1R(13);4(T)a.1x(T);3.2l(13);a=H;5 3},})}4(!2n.2o&&\'1G\'1A G){3.p.1D=q;G.1G=3.Z.11(3);3.Z()}r 3.1P();n=3}},1P:7(){4(3.p.1D)5 o;r{3.Z();3.p[\'17\']=2I(3.Z.11(3),3.6.21);5 q}},2J:7(){4(3.p[\'17\']){2K(3.p[\'17\']);3.p[\'17\']=o;5 q}5 o},Z:7(){t a,1a=G.1p.1B;4(3.p[\'v\'][0]!=1a){3.p[\'v\'][0]=(1a.z?1a:\'#\');4(3.1O()){a=1a.1H(\'&&\');3.p[\'v\'][1][\'A\']=a.2P().O(3.6.Q.z+1).2S()||3.p.16||3.6.1q;3.p.16=3.p[\'v\'][1][\'A\'];3.p[\'v\'][1][\'18\']=a.2T(\'&&\');4(3.6.1F)3.p[\'v\'][1][\'K\']=3.p[\'v\'][1][\'18\'].1F();r 3.p[\'v\'][1][\'K\']=15.1N(3.p[\'v\'][1][\'18\'],3.6.1Z);4(3.6.1c)y.1r(3.1b().1M())}r{3.p[\'v\'][1][\'A\']=\'\';3.p[\'v\'][1][\'18\']=\'\';3.p[\'v\'][1][\'K\']=H}3.V()}},1U:7(h,i,j,k,l,m){4(!D[h])D[h]=[];D[h].1r(7(e){e=e[1];4(!e)5;t f=3.y.F(-2),f=3.6.1c?(f?f:(3.y.F(-1)?-2:-1)):-1,u=e.K,U=o,1k=o,1l=o;4(i.12){4(i.12.1k)1k=q;4(i.12.1l)1l=q}4(i.A===o||(i.A===q&&(f==-2||(f!=-1&&f[1].A&&e.A&&e.A!=f[1].A)))||(i.A===\'\'&&e.A==3.6.1q)||i.A==e.A){4(i.A===o)U=q;f=s.1E(i.W,7(b,c){4(U)5 q;r 4(c===\'*\'){4(b===\'~\'&&(!u||s.E(u)==0))5 U=q;r 4(s.E(u)){4(b===\'\'&&s.E(u))5 U=q;r{t d=i.W[\'*\'];P i.W[\'*\'];4((b===q&&s.1y(u,q))||(b===o&&s.1y(u,(3.6.1I?o:\'\')))||(s.1J(u).1E(7(a){5(1l?a===b:a.1d()==b.1d())}))){i.W[\'*\']=d;5 q}i.W[\'*\']=d}}5 o}r{4(b===\'~\'&&(!u||w(u[c])==\'1g\'))5 q;r 4(s.E(u)){4((b===q&&u[c]===q)||(b===o&&(u[c]===\'\'||(3.6.1I&&u[c]===o)))||(b===\'\'&&w(u[c])!=\'1g\')||(u[c]&&(1k?b===u:b.1d()==u[c].1d())))5 q}5 o}}.11(3));4(f){4(!U&&i.12){4(i.12.2m){t g=s.1M(i.W);g=s.1K(g,7(a,b){4(a==\'~\')5 o;5 q});4(s.E(g)!==s.E(u))5}}4(m)R.1L(m);j.2p(l,[3.1b()].2q(2r.2s(k)))}}}.11(3));G.2t(\'1t\',D[h].2u())},1S:7(a){5 w(D[a])!=\'1g\'},1x:7(b){4(w(D[b])!=\'1g\'){D[b].N(7(a){G.2v(\'1t\',a)});P D[b];5 q}5 o},2w:7(){t b=8;4(8[0]==\'10\')b=s.1f(D);s.N(b,7(a){3.1x(a)},3)},1h:7(a){t b=G.1p.1B,V=o;4(w(8[8.z-1])==\'1X\'){V=8[--8.z];P 8[8.z]}4(w(8[0])==\'Y\'&&8[1]&&!8[2])b=3.6.Q+8[0]+\'&&\'+(w(8[1])==\'M\'?15.1j(8[1]):8[1]);r 4(w(8[0])==\'Y\'&&w(8[1])==\'Y\'&&8[2])b=8[0]+8[1]+\'&&\'+(w(8[2])==\'M\'?15.1j(8[2]):8[2]);r 4(w(a)==\'2A\'&&3.6.1c){t c=(3.y.F(a)||[H])[0];4(c)b=c;r 5 o}r 4(w(a)==\'M\')b=3.6.Q+3.p.16+\'&&\'+15.1j(a);r 4(w(a)==\'Y\'){4(a.O(0,1)==\'#\')b=a;r 4(a.O(0,1)==\'&\'&&a.O(1,1)!=\'&\')b+=(3.1Q(\'10\')?a:(b.1y(\'&&\')?a.O(1):\'&\'+a));r b=3.6.Q+a}r 5 o;G.1p.1B=b;4(V)3.V();r 3.Z();5 q},2C:7(){5 3.p.16},J:7(){5 3.p.v[1][\'K\']=3.p.v[1][\'K\']||{}},1b:7(){5 3.p.v},F:7(){4(8[0]==\'10\')5 3.J();t b={},F=3.J();s.N(8,7(a){4(a 1A F)b[a]=F[a]},3);5 s.E(b)?(8.z==1?b[8[0]]:b):(8.z==1?H:{})},2E:7(){t a={};4(w(8[0])==\'Y\'&&8.z>=2)a[8[0]]=8[1];r a=8[0];s.2F(3.J(),a);3.1h(3.J())},2G:7(){4(8[0]==\'10\')s.N(3.J(),7(a,b){P 3.p.v[1].K[b]},3);r s.N(8,7(a){P 3.p.v[1].K[a]},3);3.1h(3.J())},1Q:7(){4(8[0]==\'10\')5!!s.E(3.J());t b=s.1K(8,7(a){5 a 1A 3.J()}.11(3));5 s.E(8)==1?(s.E(b)==1?q:o):s.1J(b)},1O:7(a){a=a||3.1b()[0];5 a.O(1,3.6.Q.z)==3.6.Q},2H:7(a){C.1n((a||3.6.x[1])+\'1u\',2L(S),3.6.L);C.1n((a||3.6.x[1])+\'1s\',X.1z(3.6),3.6.L);C.1n((a||3.6.x[1])+\'1w\',X.1z(3.p),3.6.L);C.1n((a||3.6.x[1])+\'1v\',X.1z(y),3.6.L)},2Q:7(b,c,d){4(b!==o)b=q;4(c!==o)c=q;t e={};e[\'S\']=2R(C.1e((d||3.6.x[1])+\'1u\'));e[\'6\']=X.1C(C.1e((d||3.6.x[1])+\'1s\'),q);e[\'p\']=X.1C(C.1e((d||3.6.x[1])+\'1w\'),q);e[\'y\']=X.1C(C.1e((d||3.6.x[1])+\'1v\'),q);4(b){4(s.1E(e,7(a){5!!a})&&S.1d()==e[\'S\']){S=e[\'S\'];3.1W(e[\'6\']);3.p=e[\'p\'];y=e[\'y\'];5 3.1h(-1,c);5 q}5 o}r 5 e},2U:7(a,b){C.1i((a||3.6.x[1])+\'1u\',b||3.6.L);C.1i((a||3.6.x[1])+\'1s\',b||3.6.L);C.1i((a||3.6.x[1])+\'1w\',b||3.6.L);C.1i((a||3.6.x[1])+\'1v\',b||3.6.L)},V:7(){G.2W(\'1t\',[3.1b()])}})})();R.2X({22:14 2Z.30(G),1L:7(a){a=w(a)==\'Y\'?31.1V(a):a;4(a)R.22.2M(a)}});',62,189,'|||this|if|return|options|function|arguments||||||||||||||||false|state|true|else|Object|var|path|storedHash|typeof|externalConstants|history|length|page||Cookie|observers|getLength|get|window|null|value|getStoredHash|pathParsed|cookieOptions|object|each|substr|delete|prefix|HashNav|version|name|satisfied|triggerEvent|params|JSON|string|poll|all|bind|qualifiers|key|new|utility|current|polling|pathString|obj|lochash|getStoredHashData|trackHistory|toString|read|keys|undefined|navigateTo|dispose|POTQS|strict|wildstrict|negen|write|getProperty|location|defaultHome|push|_options|navchange|_version|_history|_state|unregisterObserver|contains|encode|in|hash|decode|native|every|cleanQueryString|onhashchange|split|makeFalse|values|filter|scrlTo|clone|PQS|isLegalHash|startPolling|has|retrieve|registeredObserver|result|registerObserver|id|setOptions|boolean|decodeURIComponent|queryMakeFalse|exposeObserverMethods|interval|scrl|NAVOBJOBSDATA|clear|Element|implement|observe|NAVOBJSERDATA|Options|domain|Events|tag|store|duration|observing|365|secure|ignoreVersionCheck|unobserve|match|eliminate|exclusive|Browser|ie7|apply|append|Array|from|addEvent|getLast|removeEvent|unregisterObservers|200|trim|toQueryString|number|home|getCurrent|indexOf|set|merge|unset|serialize|setInterval|stopPolling|clearInterval|escape|toElement|initialize|Class|shift|unserialize|unescape|clean|join|deserialize|Implements|fireEvent|extend|parseInt|Fx|Scroll|document|class'.split('|'),0,{}))